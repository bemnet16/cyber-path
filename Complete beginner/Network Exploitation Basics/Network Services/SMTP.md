### SMTP /Simple Mail Transfer Protocol/
It is utilised to handle the sending of emails. In order to support email services, a protocol pair is required, comprising of SMTP and POP/IMAP. Together they allow the user to send outgoing mail and retrieve incoming mail, respectively.

The SMTP server performs three basic functions:
-  It verifies who is sending emails through the SMTP server.
-  It sends the outgoing mail
-  If the outgoing mail can't be delivered it sends the message back to the sender

**POP and IMAP**
POP, or "Post Office Protocol" and IMAP, "Internet Message Access Protocol" are both email protocols who are responsible for the transfer of email between a client and a mail server. The main differences is in POP's more simplistic approach of downloading the inbox from the mail server, to the client. Where IMAP will synchronise the current inbox, with new mail on the server, downloading anything new.

##### How does SMTP work?
The user will supply the email and a service, and through a series of steps- will deliver it to the recipients inbox. The role of the SMTP server in this service, is to act as the sorting office, the email is picked up and sent to this server, which then directs it to the recipient.

![](https://github.com/TheRealPoloMints/Blog/blob/master/Security%20Challenge%20Walkthroughs/Networks%202/untitled.png?raw=true)


#### Enumerating SMTP
- port scanning
- Enumerating Server Details
		fingerprint the server to make our targeting as precise as possible.
		use the "_smtp_version_" module in MetaSploit to do this.
- Enumerating Users from SMTP
		The SMTP service has two internal commands that allow the enumeration of users: VRFY (confirming the names of valid users) and EXPN (which reveals the actual address of user’s aliases and lists of e-mail (mailing lists). Using these SMTP commands, we can reveal a list of valid users.
		Metasploit provide a handy module appropriately called "_smtp_enum_". Using this module is a simple matter of feeding it a host or range of hosts to scan and a wordlist containing usernames to enumerate.

#### Exploiting SMTP
- What do we know? from enumeration
- Preparation
- [Hydra](FTP)
- 